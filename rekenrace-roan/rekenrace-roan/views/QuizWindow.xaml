<Window x:Class="rekenrace_roan.views.QuizWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:rekenrace_roan.views"
        xmlns:viewmodels="clr-namespace:rekenrace_roan.ViewModels"
        Title="Rekenrace Quiz"
        Height="450"
        Width="800">
    <Window.Resources>
        <local:BooleanToForegroundConverter x:Key="BooleanToForegroundConverter" />
        <Style x:Key="HeaderLabelStyle"
               TargetType="Label">
            <Setter Property="VerticalAlignment"
                    Value="Center" />
            <Setter Property="FontSize"
                    Value="24" />
            <Setter Property="FontWeight"
                    Value="Bold" />
            <Setter Property="Margin"
                    Value="10" />
        </Style>

        <Style x:Key="FeedbackTextStyle"
               TargetType="TextBlock">
            <Setter Property="HorizontalAlignment"
                    Value="Center" />
            <Setter Property="Margin"
                    Value="10" />
            <Setter Property="FontSize"
                    Value="18" />
            <Setter Property="FontWeight"
                    Value="Bold" />
        </Style>

        <!-- Custom button style -->
        <Style x:Key="CustomButtonStyle"
               TargetType="Button">
            <Setter Property="Width"
                    Value="200" />
            <Setter Property="Height"
                    Value="40" />
            <Setter Property="Margin"
                    Value="10" />
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="100" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Top Header with Background -->
        <Border Grid.Row="0"
                Background="LightBlue">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="auto" />
                </Grid.ColumnDefinitions>
                <Label Content="{Binding Player.Name}"
                       Style="{StaticResource HeaderLabelStyle}"
                       Grid.Column="0"
                       HorizontalAlignment="Left" />
                <Label Content="{Binding Player.Difficulty}"
                       Style="{StaticResource HeaderLabelStyle}"
                       Grid.Column="1"
                       HorizontalAlignment="Right" />
                <Button Content="Terug"
                        Grid.Column="2"
                        Margin="10"
                        Click="BackToMainMenu_Click" />
            </Grid>
        </Border>

        <!-- Feedback Area -->
        <TextBlock x:Name="txtFeedback"
                   Grid.Row="1"
                   Text="{Binding FeedbackMessage}"
                   Foreground="{Binding IsFeedbackPositive, Converter={StaticResource BooleanToForegroundConverter}}"
                   Style="{StaticResource FeedbackTextStyle}" />

        <!-- Quiz Content -->
        <StackPanel Grid.Row="2"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center">
            <TextBlock Text="{Binding CurrentProblem.Equation}"
                       FontSize="36"
                       HorizontalAlignment="Center"
                       Margin="10" />
            <TextBlock Text="{Binding ProblemNumberInfo}"
                       HorizontalAlignment="Center"
                       Margin="10" />
            <TextBox x:Name="txtAnswer"
                     Width="200"
                     Height="40"
                     FontSize="24"
                     Text="{Binding UserAnswer, TargetNullValue='', UpdateSourceTrigger=PropertyChanged}"
                     PreviewTextInput="txtAnswer_PreviewTextInput" />

            <!-- Buttons for checking and moving to next problem -->
            <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Center">
                <Button Content="Controleren"
                        Style="{StaticResource CustomButtonStyle}"
                        Command="{Binding CheckAnswerCommand}"
                        IsEnabled="{Binding CanCheckAnswer}" />

                <Button Content="Volgende Som"
                        Style="{StaticResource CustomButtonStyle}"
                        Command="{Binding MoveToNextProblemCommand}"
                        IsEnabled="{Binding CanMoveToNextProblem}" />
            </StackPanel>
        </StackPanel>
    </Grid>
</Window>